{"version":3,"sources":["api/api.js","redux/dialogs-reducer.js","components/Users/users.module.css","assets/Images/user.png","assets/Images/preloader.svg","hoc/withAuthRedirect.js","components/Navbar/Navbar.module.css","serviceWorker.js","components/Navbar/Navbar.jsx","utils/object-helpers.js","redux/users-reducer.js","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","App.js","index.js","components/common/FormsControls/FormsControls.js","components/common/FormsControls/FormsControls.module.css","components/common/Preloader/Preloader.js","utils/validators/validators.js","components/common/Paginator/Paginator.module.css","components/Header/Header.module.css","redux/profile-reducer.js"],"names":["instance","axios","withCredentials","baseURL","headers","usersAPI","requestUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","initialState","dialogs","id","name","messages","message","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","body","module","exports","mapStateToPropsForRedirect","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","Boolean","window","location","hostname","match","Navbar","className","s","nav","item","activeClassName","active","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","users","totalUsersCount","isFetching","followingInProgress","fake","followSucces","unfollowSucces","setCurrentPage","toggleIsFetching","toggleFollowingInProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","count","filter","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","onClick","p","cn","selectedPage","pageNumber","key","e","User","user","src","photos","small","userPhoto","disabled","some","Users","getUsers","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainerComponent","Preloader","compose","bind","totalCount","Header","header","loginBlock","SET_USER_DATA","setAuthUserData","payload","getAuthUserData","authReducer","HeaderContainer","maxLength20","maxLengthCreator","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","createField","Input","required","formSummaryError","length","stopSubmit","_error","formData","initialized","appReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","Suspense","fallback","UsersContainer","AppContainer","withRouter","promise","Promise","all","SamuraiJSApp","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","FormsControl","input","meta","touched","children","hasError","formControl","Textarea","restProps","child","placeholder","component","validate","text","style","backgroundColor","preloader","value","maxLength","posts","likesCount","profile","addPostActionCreator","newPostText","setStatus","getUserProfile","newPost","postId"],"mappings":"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","file":"static/js/main.eb4a283f.chunk.js","sourcesContent":["import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true\r\n    , baseURL: 'https://social-network.samuraijs.com/api/1.0/'\r\n    , headers: { \"API-KEY\": \"78de4df0-e8f0-40fa-b6ad-a9d4fd807306\" }\r\n})\r\n\r\nexport const usersAPI = {\r\n    requestUsers(currentPage, pageSize) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`,\r\n            {\r\n                withCredentials: true\r\n            })\r\n            .then(response => response.data);\r\n    }\r\n    , follow(userId) {\r\n        return instance.post(`follow/${userId}`);\r\n    }\r\n    , unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`);\r\n    }\r\n    , getProfile(userId) {\r\n        console.warn('Obsolete method. Please profileAPI object.');\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n}   \r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/`+ userId);\r\n    }\r\n    , getStatus(userId) {\r\n        return instance.get(`profile/status/`+ userId);\r\n    }\r\n    , updateStatus(status) {\r\n        return instance.put(`profile/status`, { status: status });\r\n    }\r\n}   \r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`);\r\n    } \r\n    , login(email, password, rememberMe = false) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe});\r\n    }\r\n    , logout() {\r\n        return instance.delete(`auth/login`);\r\n    }\r\n}\r\n\r\n","const UPDATE_NEW_MESSAGE_BODY = 'UPDATE_NEW_MESSAGE_BODY';\r\nconst SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        { id: 1, name: 'Dimych' }\r\n        , { id: 2, name: 'Andrey' }\r\n        , { id: 3, name: 'Sveta' }\r\n        , { id: 4, name: 'Sasha' }\r\n        , { id: 5, name: 'Viktor' }\r\n        , { id: 6, name: 'Valera' }\r\n    ]\r\n    , messages: [\r\n        { id: 1, message: 'Hi' }\r\n        , { id: 2, message: 'How is your it-kamasutra' }\r\n        , { id: 3, message: 'Yo' }\r\n        , { id: 4, message: 'Yo' }\r\n    ]\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case UPDATE_NEW_MESSAGE_BODY:\r\n            return {\r\n                ...state\r\n                , newMessageBody: action.body\r\n            }\r\n        case SEND_MESSAGE:\r\n            let body = action.newMessageBody;\r\n            return {\r\n                ...state\r\n                , messages: [...state.messages, { id: 6, message: body }]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({ type: SEND_MESSAGE, newMessageBody })\r\nexport const updateNewMessageBodyCreator = (body) => ({ type: UPDATE_NEW_MESSAGE_BODY, body: body })\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__1jWOc\"};","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/preloader.6dd908bb.svg\";","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n  });\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to='/login' />\r\n    \r\n            return <Component {...this.props} />\r\n        }    \r\n    }\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3VzRz\",\"item\":\"Navbar_item__3Af0S\",\"active\":\"Navbar_active__1HaOc\"};","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport s from './Navbar.module.css'\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <nav className={s.nav}>\r\n      <div className={s.item}>\r\n        <NavLink to=\"/profile\" activeClassName={s.active}>Profile</NavLink>\r\n      </div>\r\n      <div className={`${s.item} ${s.active}`}>\r\n        <NavLink to=\"/dialogs\" activeClassName={s.active}>Messages</NavLink>\r\n      </div>\r\n      <div className={`${s.item} ${s.active}`}>\r\n        <NavLink to=\"/users\" activeClassName={s.active}>Users</NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <a>News</a>\r\n      </div>\r\n      <div className={s.item}>\r\n        <a>Music</a>\r\n      </div>\r\n      <div className={s.item}>\r\n        <a>Settings</a>\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Navbar;","\r\n\r\nexport const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => { \r\n        if (u[objPropName] === itemId) {\r\n            return {\r\n                ...u\r\n                , ...newObjProps\r\n            }\r\n        }\r\n        return u;\r\n    })\r\n} ","import { usersAPI } from \"../api/api\";\r\nimport { updateObjectInArray } from \"../utils/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: []\r\n    , pageSize: 10\r\n    , totalUsersCount: 0\r\n    , currentPage: 1\r\n    , isFetching: true\r\n    , followingInProgress: []\r\n    , fake: 10\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n            }\r\n        case SET_USERS: {\r\n            return {\r\n                ...state\r\n                , users: action.users\r\n            }\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {\r\n                ...state\r\n                , currentPage: action.currentPage\r\n            }\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {\r\n                ...state\r\n                , totalUsersCount: action.count\r\n            }\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {\r\n                ...state\r\n                , isFetching: action.isFetching\r\n            }\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state\r\n                , followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followSucces = (userId) => ({ type: FOLLOW, userId })\r\nexport const unfollowSucces = (userId) => ({ type: UNFOLLOW, userId })\r\nexport const setUsers = (users) => ({ type: SET_USERS, users })\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage })\r\nexport const setTotalUsersCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount })\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching })\r\nexport const toggleFollowingInProgress = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId })\r\n\r\nexport const requestUsers = (currentPage, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(currentPage));\r\n\r\n        let data = await usersAPI.requestUsers(currentPage, pageSize);\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingInProgress(true, userId));\r\n    let response = await apiMethod(userId)\r\n    if (response.data.resultCode == 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingInProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSucces);\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSucces);\r\n    }\r\n}\r\n\r\nexport default usersReducer;","import React, {useState} from 'react';\r\nimport styles from \"./Paginator.module.css\";\r\nimport cn from \"classnames\";\r\n\r\nlet Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n\r\n    return <div className={styles.paginator}>\r\n        { portionNumber > 1 &&\r\n        <button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button> }\r\n\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p<=rightPortionPageNumber)\r\n                .map((p) => {\r\n                return <span className={ cn({\r\n                    [styles.selectedPage]: currentPage === p\r\n                }, styles.pageNumber) }\r\n                             key={p}\r\n                             onClick={(e) => {\r\n                                 onPageChanged(p);\r\n                             }}>{p}</span>\r\n            })}\r\n        { portionCount > portionNumber &&\r\n            <button onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button> }\r\n\r\n\r\n    </div>\r\n}\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport styles from './users.module.css';\r\nimport userPhoto from '../../assets/Images/user.png';\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nlet User = ({ user, followingInProgress, unfollow, follow, ...props }) => {\r\n    return (\r\n        <div key={user.id}>\r\n            <span>\r\n                <div>\r\n                    <NavLink to={'/profile/' + user.id}>\r\n                        <img src={user.photos.small != null ? user.photos.small : userPhoto} className={styles.userPhoto} />\r\n                    </NavLink>\r\n                </div>\r\n                <div>\r\n                    {user.followed\r\n                        ? <button\r\n                            disabled={followingInProgress.some(id => id === user.id)}\r\n                            onClick={() => {\r\n                                unfollow(user.id);\r\n                            }}>Unfollow</button>\r\n                        : <button\r\n                            disabled={followingInProgress.some(id => id === user.id)}\r\n                            onClick={() => {\r\n                                follow(user.id);\r\n                            }}>Follow</button>}\r\n                </div>\r\n            </span>\r\n            <span>\r\n                <span>\r\n                    <div>{user.name}</div>\r\n                    <div>{user.status}</div>\r\n                </span>\r\n                <span>\r\n                    <div>{'user.location.country'}</div>\r\n                    <div>{'user.location.city'}</div>\r\n                </span>\r\n            </span>\r\n        </div>)\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport Paginator from '../common/Paginator/Paginator';\r\nimport User from './User';\r\n\r\nlet Users = ({\r\n    currentPage\r\n    , totalUsersCount\r\n    , pageSize\r\n    , onPageChanged\r\n    , users\r\n    , followingInProgress\r\n    , follow\r\n    , unfollow\r\n    , ...props }) => {\r\n\r\n    return (\r\n        <div>\r\n            <Paginator\r\n                currentPage={currentPage}\r\n                totalItemsCount={totalUsersCount}\r\n                pageSize={pageSize}\r\n                onPageChanged={onPageChanged}\r\n            />\r\n            <div>\r\n                {\r\n                    users.map(u => <User\r\n                        user={u}\r\n                        followingInProgress={followingInProgress}\r\n                        follow={follow}\r\n                        unfollow={unfollow}\r\n                        key={u.id}\r\n                    />\r\n                    )\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users;","import { createSelector } from \"reselect\";\r\n\r\nconst getUsersSelector = (state) => {\r\n    return state.usersPage.users;\r\n    // return state.usersPage.users;\r\n}\r\n\r\nexport const getUsers = createSelector(\r\n    getUsersSelector\r\n    , (users) => {\r\n        return users.filter(u => true);\r\n    })\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}\r\n\r\nexport const countSomethingDifficult = (state) => {\r\n    // debugger;\r\n\r\n    let count = 23;\r\n    return count;\r\n}\r\n\r\n\r\n// let mapStateToProps = (state) => {\r\n//     return {\r\n//         users: state.usersPage.users\r\n//         , pageSize: state.usersPage.pageSize\r\n//         , totalUsersCount: state.usersPage.totalUsersCount\r\n//         , currentPage: state.usersPage.currentPage\r\n//         , isFetching: state.usersPage.isFetching\r\n//         , followingInProgress: state.usersPage.followingInProgress\r\n//     }\r\n// }","import React from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n    follow\r\n    , unfollow\r\n    , setCurrentPage\r\n    , toggleFollowingInProgress\r\n    , requestUsers\r\n} from \"../../redux/users-reducer\";\r\nimport Users from './Users'\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\nimport {\r\n    getUsers\r\n    , getPageSize\r\n    , getTotalUsersCount\r\n    , getCurrentPage\r\n    , getIsFetching\r\n    , getFollowingInProgress}\r\n    from '../../redux/users-selectors';\r\n\r\nclass UsersContainerComponent extends React.Component {\r\n    componentDidMount() {\r\n        let {currentPage, pageSize} = this.props;\r\n\r\n        this.props.requestUsers(currentPage, pageSize);\r\n    }\r\n    onPageChanged = (pageNumber) => {\r\n        let {pageSize} = this.props;\r\n        this.props.requestUsers(pageNumber, pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader /> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                onPageChanged={this.onPageChanged}\r\n                users={this.props.users}\r\n                follow={this.props.follow}\r\n                unfollow={this.props.unfollow}\r\n                toggleFollowingInProgress={this.props.toggleFollowingInProgress}\r\n                followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\n// let mapStateToProps = (state) => {\r\n//     return {\r\n//         users: state.usersPage.users\r\n//         , pageSize: state.usersPage.pageSize\r\n//         , totalUsersCount: state.usersPage.totalUsersCount\r\n//         , currentPage: state.usersPage.currentPage\r\n//         , isFetching: state.usersPage.isFetching\r\n//         , followingInProgress: state.usersPage.followingInProgress\r\n//     }\r\n// }\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state)\r\n        , pageSize: getPageSize(state)\r\n        , totalUsersCount: getTotalUsersCount(state)\r\n        , currentPage: getCurrentPage(state)\r\n        , isFetching: getIsFetching(state)\r\n        , followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nexport default compose\r\n    (\r\n        connect(mapStateToProps,\r\n            {\r\n                follow\r\n                , unfollow\r\n                , setCurrentPage\r\n                , toggleFollowingInProgress\r\n                , requestUsers\r\n            })\r\n        // , withAuthRedirect\r\n    )\r\n    (UsersContainerComponent);","import React from 'react';\r\nimport s from './Header.module.css'\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Header = (props) => {\r\n  return <header className={s.header}>\r\n    <img src='https://static.rfstat.com/renderforest/images/logo_maker_images/icon_image/line_logo.jpg' />\r\n    <div className={s.loginBlock}>\r\n      {props.isAuth ? <div>{props.login} - <button onClick={props.logout}>Log out</button></div>\r\n        : <NavLink to={'/login'}>Login</NavLink>}\r\n\r\n    </div>\r\n  </header>\r\n}\r\n\r\nexport default Header;","import { authAPI } from \"../api/api\";\r\nimport { stopSubmit } from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'samurai-network/auth/SET_USER_DATA';\r\n\r\nlet initialState = {\r\n    id: null\r\n    , email: null\r\n    , login: null\r\n    , isAuth: false\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({type: SET_USER_DATA, payload:\r\n    {userId, email, login, isAuth} });\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me();\r\n    if (response.data.resultCode === 0) {\r\n        let { id, email, login } = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData());\r\n    }\r\n    else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n        dispatch(stopSubmit('login', { _error: message }));\r\n    }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout();\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n}\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n});\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from 'react';\r\nimport { reduxForm, Field } from 'redux-form';\r\nimport {createField, Input } from '../common/FormsControls/FormsControls';\r\nimport { required, maxLengthCreator } from '../../utils/validators/validators';\r\nimport { connect } from 'react-redux';\r\nimport {login} from '../../redux/auth-reducer'\r\nimport { Redirect } from 'react-router-dom';\r\nimport styles from '../common/FormsControls/FormsControls.module.css';\r\n\r\nconst maxLength20 = maxLengthCreator(30);\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n                {createField('E-mail', 'email', Input, [required, maxLength20])}\r\n                {createField('Password', 'password', Input, [required, maxLength20], {type:'password'})}\r\n                {createField(null, 'rememberMe', 'Input', null, {type:'checkbox'}, 'remember me')} \r\n            {error && <div className={styles.formSummaryError}>\r\n                {error}\r\n            </div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n            <div></div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({ form: 'login' })(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe);    \r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n\r\n    return <div>\r\n        <h1>Login</h1>\r\n        <LoginReduxForm onSubmit={onSubmit} />\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login);","import { authAPI } from \"../api/api\";\r\nimport { stopSubmit } from \"redux-form\";\r\nimport { getAuthUserData } from \"./auth-reducer\";\r\n\r\nconst SET_INITIALIZED = 'SET_INITIALIZED';\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_INITIALIZED:\r\n            return {\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initializedSucces = () => ({ type: SET_INITIALIZED });\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            // debugger;\r\n            dispatch(initializedSucces());\r\n        });\r\n}\r\n\r\nexport default appReducer;","let initialState = {};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    return state;\r\n}\r\n\r\n\r\nexport default sidebarReducer;  ","import profileReducer from './profile-reducer';\r\nimport sidebarReducer from './sidebar-reducer';\r\nimport dialogsReducer from './dialogs-reducer';\r\nimport {reducer as formReducer} from 'redux-form';\r\n\r\nimport { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\r\nimport usersReducer from './users-reducer';\r\nimport authReducer from './auth-reducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport appReducer from './app-reducer';\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer\r\n    , dialogsPage: dialogsReducer\r\n    , sidebar: sidebarReducer\r\n    , usersPage: usersReducer\r\n    , auth:authReducer\r\n    , form: formReducer\r\n    , app: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nwindow.__store__ = store;\r\n\r\nexport default store;","import React from 'react';\r\nimport './App.css';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport { Route, withRouter, HashRouter } from \"react-router-dom\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport Login from './components/Login/Login';\r\nimport {initializeApp} from './redux/app-reducer'\r\nimport { connect, Provider } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport Preloader from './components/common/Preloader/Preloader';\r\nimport store from './redux/redux-store';\r\n// import {withSuspense} from \"./hoc/withSuspense\";\r\n\r\n//import DialogsContainer from \"./components/Dialogs/DialogsContainer\";\r\n//import ProfileContainer from \"./components/Profile/ProfileContainer\";\r\n\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\n\r\n\r\n\r\nclass App extends React.Component {\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }        \r\n\r\n        return (\r\n            <div className='app-wrapper' >\r\n                <HeaderContainer />\r\n                <Navbar />\r\n                <div className='app-wrapper-content'>\r\n                    <Route path='/dialogs'\r\n                        render={() => {\r\n                            return <React.Suspense fallback={<div>Loading...</div>} >\r\n                                <DialogsContainer />\r\n                            </React.Suspense>\r\n                        }} />\r\n                    <Route path='/profile/:userId?'\r\n                        render={() => {\r\n                            return <React.Suspense fallback={<div>Loading...</div>}>\r\n                                <ProfileContainer />\r\n                            </React.Suspense>\r\n                        }} />\r\n                    <Route path='/users'\r\n                        render={() => <UsersContainer />} />\r\n\r\n                    <Route path='/login'\r\n                        render={() => <Login />} />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    initialized: state.app.initialized\r\n})\r\n\r\n\r\nlet AppContainer = compose(\r\n    withRouter\r\n    , connect(mapStateToProps, {initializeApp}))\r\n    (App);\r\n\r\nconst SamuraiJSApp = (props) => {\r\n    return <HashRouter>\r\n        <Provider store={store}>\r\n            <AppContainer />\r\n        </Provider>\r\n    </HashRouter>\r\n}\r\n\r\nexport default SamuraiJSApp;\r\n","import * as serviceWorker from './serviceWorker';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport SamuraiJSApp from './App';\r\n\r\nReactDOM.render(\r\n    <SamuraiJSApp />\r\n    , document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","import React from 'react';\r\nimport styles from './FormsControls.module.css'\r\nimport { Field } from 'redux-form';\r\n\r\nconst FormsControl = ({ input, meta: {touched, error}, children}) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={styles.formControl + ' ' + (hasError ? styles.error : ' ')}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const { input, meta, child, ...restProps } = props;\r\n    return <FormsControl {...props}><textarea {...input} {...restProps} /></FormsControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const { input, meta, child, ...restProps } = props;\r\n    return <FormsControl {...props}><input {...props.input} {...restProps} /></FormsControl>\r\n}\r\n\r\nexport const createField = (placeholder, name, component, validate, props = [], text='') => (\r\n    <div>\r\n        <Field\r\n            placeholder={placeholder}\r\n            name={name}\r\n            component={component}\r\n            validate={validate} \r\n            {...props}/> {text}\r\n    </div>\r\n)","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3tIda\",\"error\":\"FormsControls_error__tE_Fh\",\"formSummaryError\":\"FormsControls_formSummaryError__2fCIs\"};","import React from 'react';\r\nimport preloader from './../../../assets/Images/preloader.svg'\r\n\r\nlet Preloader = (props) => {\r\n    return <div style={{ backgroundColor: 'white' }}> <img src={preloader} />  </div>\r\n}\r\n\r\nexport default Preloader;\r\n","export const required = value => {\r\n    if (value) return undefined;\r\n\r\n    return \"Field is required\";\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__3nnN6\",\"pageNumber\":\"Paginator_pageNumber__3fmmv\",\"selectedPage\":\"Paginator_selectedPage__3XzcU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1W_sg\",\"loginBlock\":\"Header_loginBlock__2jvih\"};","import { usersAPI, profileAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        { id: 1, message: 'Hi, how are you?', likesCount: 12 },\r\n        { id: 2, message: 'It\\'s my first post', likesCount: 11 },\r\n        { id: 3, message: 'Blabla', likesCount: 11 },\r\n        { id: 4, message: 'Dada', likesCount: 11 }\r\n    ],\r\n    profile: null\r\n    , status: ''\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                likesCount: 0\r\n            };\r\n            return {\r\n                ...state\r\n                , posts: [...state.posts, newPost]\r\n                , newPostText: ''\r\n            };\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state, profile: action.profile\r\n            }\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state, status: action.status\r\n            }\r\n        }\r\n        case DELETE_POST: return {...state, posts: state.posts.filter(p => p.id = action.postId)}\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => ({ type: ADD_POST, newPostText })\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile })\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status })\r\n\r\nexport const deletePost = (postId) => ({ type: DELETE_POST, postId })\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await usersAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(response.data));\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status));\r\n    }\r\n}\r\n    \r\nexport default profileReducer;"],"sourceRoot":""}